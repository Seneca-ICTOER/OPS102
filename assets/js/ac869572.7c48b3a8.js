"use strict";(self.webpackChunkintroduction_to_programming=self.webpackChunkintroduction_to_programming||[]).push([[6520],{2748:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"bash/test","title":"The test Command","description":"To perform tests, such as comparisons, bash provides the test command.","source":"@site/docs/07-bash/11-test.md","sourceDirName":"07-bash","slug":"/bash/test","permalink":"/OPS102/bash/test","draft":false,"unlisted":false,"editUrl":"https://github.com/Seneca-ICTOER/OPS102/tree/main/docs/07-bash/11-test.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{},"sidebar":"courseNotesSidebar","previous":{"title":"Conditional Logic: if / then / elif / else / fi","permalink":"/OPS102/bash/if"},"next":{"title":"Parameters","permalink":"/OPS102/bash/param"}}');var i=n(4848),r=n(8453);const a={},l="The test Command",o={},c=[{value:"Available Tests",id:"available-tests",level:3},{value:"Tests Group 1: Filesystem Entries",id:"tests-group-1-filesystem-entries",level:2},{value:"Tests Group 2: File Permissions",id:"tests-group-2-file-permissions",level:2},{value:"Tests Group 3: Strings",id:"tests-group-3-strings",level:2},{value:"Test Group 4: Integers",id:"test-group-4-integers",level:2},{value:"Other Tests",id:"other-tests",level:2},{value:"Negating and Combining Tests",id:"negating-and-combining-tests",level:2},{value:"Tips on Using Tests",id:"tips-on-using-tests",level:2}];function h(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"the-test-command",children:"The test Command"})}),"\n",(0,i.jsxs)(s.p,{children:["To perform tests, such as comparisons, bash provides the ",(0,i.jsx)(s.em,{children:"test"})," command."]}),"\n",(0,i.jsx)(s.p,{children:"Test accepts parameters that comprise a test, such as a test for string\nequality, and returns a status code of 0 if the test succeeds or non-0\nif it fails:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'test\xa0"$NAME"\xa0==\xa0"Chris"\n'})}),"\n",(0,i.jsxs)(s.p,{children:["This is used with the ",(0,i.jsx)(s.em,{children:"if"})," statement like this:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'if\xa0test\xa0"$NAME"\xa0==\xa0"Chris"\nthen\n\xa0\xa0SUPERPOWERS="Yes"\nfi\n'})}),"\n",(0,i.jsxs)(s.p,{children:["However, this syntax is a bit ugly! So bash provides a synonym for\n",(0,i.jsx)(s.code,{children:"test"})," which is ",(0,i.jsx)(s.code,{children:"[[  ]]"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'if\xa0[[ "$NAME" == "Chris" ]]\nthen\n\xa0\xa0SUPERPOWERS="Yes"\nfi\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Remember that the double square-brackets are really just the ",(0,i.jsx)(s.em,{children:"test"}),"\ncommand in disguise. This means that the arguments are command\narguments, and need to be separated by spaces, just as they would with\nany other command such as ",(0,i.jsx)(s.em,{children:"ls"})," or ",(0,i.jsx)(s.em,{children:"cp"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Note: The original test command in the original Unix shell (the Bourne shell) was aliased to the single square bracket ",(0,i.jsx)(s.code,{children:"[ ]"})," For compatibility, this is still available in the bash shell, and it has the advantage of being a Posix standard which is consitent across various Posix-compliant shells. However, the double square-bracket version of the test command has some improved capabilities, and is recommended (except when you need a script that is compatible with a wide range of different shells)."]}),"\n",(0,i.jsx)(s.h3,{id:"available-tests",children:"Available Tests"}),"\n",(0,i.jsx)(s.p,{children:"There are four main types of tests available:"}),"\n",(0,i.jsx)(s.h2,{id:"tests-group-1-filesystem-entries",children:"Tests Group 1: Filesystem Entries"}),"\n",(0,i.jsx)(s.p,{children:"These tests check a filename to see if it is a regular file, a\ndirectory, or a symbolic link:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ -f filename ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0filename\xa0is\xa0a\xa0regular\xa0file\n[[ -d filename ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0filename\xa0is\xa0a\xa0directory\n[[ -L filename ]]\xa0 \xa0#\xa0True\xa0if\xa0filename\xa0is\xa0a\xa0symbolic\xa0link\n"})}),"\n",(0,i.jsx)(s.p,{children:"Notes:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"-f"})," and ",(0,i.jsx)(s.code,{children:"-d"})," tests are lowercase, but the ",(0,i.jsx)(s.code,{children:"-L"})," test is UPPERCASE."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["If a symbolic link points to a file, then both the ",(0,i.jsx)(s.code,{children:"-f"})," and ",(0,i.jsx)(s.code,{children:"-L"})," tests will succeed. If a symbolic link points to a directory, then both the ",(0,i.jsx)(s.code,{children:"-d"})," and ",(0,i.jsx)(s.code,{children:"-L"})," tests will succeed."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"tests-group-2-file-permissions",children:"Tests Group 2: File Permissions"}),"\n",(0,i.jsx)(s.p,{children:"These tests check a filename to see if the person running the script can read, write, or execute the file (or access the directory):"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ -r filename ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0filename\xa0is\xa0readable\n[[ -w filename ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0filename\xa0is\xa0writable\n[[ -x filename ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0filename\xa0is\xa0executable\n"})}),"\n",(0,i.jsx)(s.h2,{id:"tests-group-3-strings",children:"Tests Group 3: Strings"}),"\n",(0,i.jsx)(s.p,{children:"These tests accept two string arguments, which are compared:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ string1 == string2 ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0the\xa0strings\xa0are\xa0equal\n[[ string1 != string2 ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0the\xa0strings\xa0are\xa0not\xa0equal\n[[ string1 > string2 ]] \xa0\xa0\xa0#\xa0True\xa0if\xa0string1\xa0sorts\xa0after\xa0string2\xa0lexicographically\n[[ string1 < string2 ]]\xa0 \xa0\xa0#\xa0True\xa0if\xa0string1\xa0sorts\xa0before\xa0string2\xa0lexicographically\n"})}),"\n",(0,i.jsxs)(s.p,{children:["A note on the term ",(0,i.jsx)(s.em,{children:"lexicographically"}),": Sorting ",(0,i.jsx)(s.em,{children:"lexicographically"}),' means sorting according to character code. This is like sorting alphabetically, but it applies to non-alphabetic characters as well, such as digits and punctuation marks. See the manpage for "ascii" to see the        sequence of the first 128 character codes (or refer to a Unicode        table for all of the character codes).']}),"\n",(0,i.jsx)(s.p,{children:"When sorting lexicographically, a comes before aa, which comes before b:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-plain",children:"a\naa\nb\n"})}),"\n",(0,i.jsx)(s.p,{children:"In a similar way, 1 comes before 11, which comes before 2:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-plain",children:"1\n11\n2\n"})}),"\n",(0,i.jsx)(s.p,{children:"Note that this is different from numeric order, where 2 would preceed\n11:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-plain",children:"1\n2\n11\n"})}),"\n",(0,i.jsx)(s.h2,{id:"test-group-4-integers",children:"Test Group 4: Integers"}),"\n",(0,i.jsx)(s.p,{children:"These tests accept to integer arguments, which are compared:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ integer1 -eq integer2 ]]\xa0\xa0#\xa0Integers\xa0are\xa0equal\n[[ integer1 -ne integer2 ]]\xa0\xa0#\xa0Integers\xa0are\xa0not\xa0equal\n[[ integer1 -gt integer2 ]]\xa0\xa0#\xa0Integer1\xa0is\xa0greater\xa0than\xa0integer2\n[[ integer1 -ge integer2 ]]  #\xa0Integer1\xa0is\xa0greater\xa0than\xa0or\xa0equal\xa0to\xa0integer2\n[[ integer1 -lt integer2 ]]  #\xa0Integer1\xa0is\xa0less\xa0than\xa0integer2\n[[ integer1 -le integer2 ]]  #\xa0Integer1\xa0is\xa0less\xa0than\xa0or\xa0equal\xa0to\xa0integer2\n"})}),"\n",(0,i.jsx)(s.h2,{id:"other-tests",children:"Other Tests"}),"\n",(0,i.jsxs)(s.p,{children:["The four groups of tests above will cover the vast majority of\nsituations. There are additional tests available to test other\nconditions, such as whether a variable is defined, or a file refers to a\ndevice. See the man page for bash(1) for more information if you're\ninterested in other tests: ",(0,i.jsx)(s.em,{children:"man bash"})]}),"\n",(0,i.jsx)(s.h2,{id:"negating-and-combining-tests",children:"Negating and Combining Tests"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"!"})," operator can be used to negate a test:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'[[ ! -f "$FILE" ]]\xa0\xa0\xa0#\xa0True\xa0if\xa0"$FILE"\xa0is\xa0not\xa0a\xa0file\xa0(doesn\'t\xa0exist,\xa0or\xa0is\xa0a\xa0directory)\n'})}),"\n",(0,i.jsxs)(s.p,{children:["The AND operator ",(0,i.jsx)(s.code,{children:"&&"})," combines tests, with the result being True if the\ntests on the left and right are both true:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ $A -lt $B && $B -lt $C ]]\xa0\xa0#\xa0True\xa0if\xa0A\xa0is\xa0less\xa0than\xa0B,\xa0and\xa0also\xa0B\xa0is\xa0less\xa0than\xa0C.\n"})}),"\n",(0,i.jsxs)(s.p,{children:["The OR operator ",(0,i.jsx)(s.code,{children:"||"})," combines tests, with the result being True if\neither of the tests are true:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ $A -lt 0 ]] \xa0#\xa0True\xa0if\xa0either:\xa0A\xa0is\xa0greater\xa0than\xa0B,\xa0or\xa0if\xa0A\xa0is\xa0less\xa0than\xa00.\n"})}),"\n",(0,i.jsxs)(s.p,{children:["You can use multiple ",(0,i.jsx)(s.code,{children:"!"}),", ",(0,i.jsx)(s.code,{children:"&&"}),", and ",(0,i.jsx)(s.code,{children:"||"})," operators toegether:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'[[ -f "$FILE" && -r "$FILE" && -w "$FILE" ]]\xa0#\xa0True\xa0if\xa0"$FILE"\xa0is\xa0a\xa0readable,\xa0writable\xa0regular\xa0file.\n'})}),"\n",(0,i.jsx)(s.h2,{id:"tips-on-using-tests",children:"Tips on Using Tests"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Remember\xa0to\xa0quote\xa0any\xa0arguments\xa0which\xa0include\xa0whitespace,\xa0or\xa0which\xa0may\xa0be\xa0\nnull\xa0(empty)."}),"\n",(0,i.jsxs)(s.li,{children:["Be\xa0careful\xa0with\xa0the\xa0",(0,i.jsx)(s.code,{children:"<"}),"\xa0and\xa0",(0,i.jsx)(s.code,{children:">"}),"\xa0comparison\xa0operators:\xa0if\xa0you\xa0have\xa0\na\xa0syntax\xa0error,\xa0you\xa0may\xa0accidentally\xa0redirect\xa0data\xa0(which\xa0in\xa0the\xa0case\xa0of\xa0\n",(0,i.jsx)(s.code,{children:">"}),"\xa0might\xa0overwrite\xa0a\xa0file!)"]}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(6540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);