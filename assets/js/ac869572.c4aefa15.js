"use strict";(self.webpackChunkintroduction_to_programming=self.webpackChunkintroduction_to_programming||[]).push([[6520],{2748:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"bash/test","title":"The test Command","description":"To perform tests, such as comparisons, bash provides the test command.","source":"@site/docs/07-bash/11-test.md","sourceDirName":"07-bash","slug":"/bash/test","permalink":"/OPS102/bash/test","draft":false,"unlisted":false,"editUrl":"https://github.com/Seneca-ICTOER/OPS102/tree/main/docs/07-bash/11-test.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{},"sidebar":"courseNotesSidebar","previous":{"title":"Conditional Logic: if / then / elif / else / fi","permalink":"/OPS102/bash/if"},"next":{"title":"Parameters","permalink":"/OPS102/bash/param"}}');var i=n(4848),r=n(8453);const a={},l="The test Command",o={},c=[{value:"Available Tests",id:"available-tests",level:3},{value:"Tests Group 1: Filesystem Entries",id:"tests-group-1-filesystem-entries",level:2},{value:"Tests Group 2: File Permissions",id:"tests-group-2-file-permissions",level:2},{value:"Tests Group 3: Strings",id:"tests-group-3-strings",level:2},{value:"Test Group 4: Integers",id:"test-group-4-integers",level:2},{value:"Other Tests",id:"other-tests",level:2},{value:"Negating and Combining Tests",id:"negating-and-combining-tests",level:2},{value:"Tips on Using Tests",id:"tips-on-using-tests",level:2}];function h(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"the-test-command",children:"The test Command"})}),"\n",(0,i.jsxs)(s.p,{children:["To perform tests, such as comparisons, bash provides the ",(0,i.jsx)(s.em,{children:"test"})," command."]}),"\n",(0,i.jsx)(s.p,{children:"Test accepts parameters that comprise a test, such as a test for string\nequality, and returns a status code of 0 if the test succeeds or non-0\nif it fails:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'test "$NAME" == "Chris"\n'})}),"\n",(0,i.jsxs)(s.p,{children:["This is used with the ",(0,i.jsx)(s.em,{children:"if"})," statement like this:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'if test "$NAME" == "Chris"\nthen\n  SUPERPOWERS="Yes"\nfi\n'})}),"\n",(0,i.jsxs)(s.p,{children:["However, this syntax is a bit ugly! So bash provides a synonym for\n",(0,i.jsx)(s.code,{children:"test"})," which is ",(0,i.jsx)(s.code,{children:"[[  ]]"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'if [[ "$NAME" == "Chris" ]]\nthen\n  SUPERPOWERS="Yes"\nfi\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Remember that the double square-brackets are really just the ",(0,i.jsx)(s.em,{children:"test"}),"\ncommand in disguise. This means that the arguments are command\narguments, and need to be separated by spaces, just as they would with\nany other command such as ",(0,i.jsx)(s.em,{children:"ls"})," or ",(0,i.jsx)(s.em,{children:"cp"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Note: The original test command in the original Unix shell (the Bourne shell) was aliased to the single square bracket ",(0,i.jsx)(s.code,{children:"[ ]"})," For compatibility, this is still available in the bash shell, and it has the advantage of being a Posix standard which is consitent across various Posix-compliant shells. However, the double square-bracket version of the test command has some improved capabilities, and is recommended (except when you need a script that is compatible with a wide range of different shells)."]}),"\n",(0,i.jsx)(s.h3,{id:"available-tests",children:"Available Tests"}),"\n",(0,i.jsx)(s.p,{children:"There are four main types of tests available:"}),"\n",(0,i.jsx)(s.h2,{id:"tests-group-1-filesystem-entries",children:"Tests Group 1: Filesystem Entries"}),"\n",(0,i.jsx)(s.p,{children:"These tests check a filename to see if it is a regular file, a\ndirectory, or a symbolic link:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ -f filename ]]   # True if filename is a regular file\n[[ -d filename ]]   # True if filename is a directory\n[[ -L filename ]]   # True if filename is a symbolic link\n"})}),"\n",(0,i.jsx)(s.p,{children:"Notes:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"-f"})," and ",(0,i.jsx)(s.code,{children:"-d"})," tests are lowercase, but the ",(0,i.jsx)(s.code,{children:"-L"})," test is UPPERCASE."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["If a symbolic link points to a file, then both the ",(0,i.jsx)(s.code,{children:"-f"})," and ",(0,i.jsx)(s.code,{children:"-L"})," tests will succeed. If a symbolic link points to a directory, then both the ",(0,i.jsx)(s.code,{children:"-d"})," and ",(0,i.jsx)(s.code,{children:"-L"})," tests will succeed."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"tests-group-2-file-permissions",children:"Tests Group 2: File Permissions"}),"\n",(0,i.jsx)(s.p,{children:"These tests check a filename to see if the person running the script can read, write, or execute the file (or access the directory):"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ -r filename ]]   # True if filename is readable\n[[ -w filename ]]   # True if filename is writable\n[[ -x filename ]]   # True if filename is executable\n"})}),"\n",(0,i.jsx)(s.h2,{id:"tests-group-3-strings",children:"Tests Group 3: Strings"}),"\n",(0,i.jsx)(s.p,{children:"These tests accept two string arguments, which are compared:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ string1 == string2 ]]   # True if the strings are equal\n[[ string1 != string2 ]]   # True if the strings are not equal\n[[ string1 > string2 ]]    # True if string1 sorts after string2 lexicographically\n[[ string1 < string2 ]]    # True if string1 sorts before string2 lexicographically\n"})}),"\n",(0,i.jsxs)(s.p,{children:["A note on the term ",(0,i.jsx)(s.em,{children:"lexicographically"}),": Sorting ",(0,i.jsx)(s.em,{children:"lexicographically"}),' means sorting according to character code. This is like sorting alphabetically, but it applies to non-alphabetic characters as well, such as digits and punctuation marks. See the manpage for "ascii" to see the        sequence of the first 128 character codes (or refer to a Unicode        table for all of the character codes).']}),"\n",(0,i.jsx)(s.p,{children:"When sorting lexicographically, a comes before aa, which comes before b:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-plain",children:"a\naa\nb\n"})}),"\n",(0,i.jsx)(s.p,{children:"In a similar way, 1 comes before 11, which comes before 2:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-plain",children:"1\n11\n2\n"})}),"\n",(0,i.jsx)(s.p,{children:"Note that this is different from numeric order, where 2 would preceed\n11:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-plain",children:"1\n2\n11\n"})}),"\n",(0,i.jsx)(s.h2,{id:"test-group-4-integers",children:"Test Group 4: Integers"}),"\n",(0,i.jsx)(s.p,{children:"These tests accept to integer arguments, which are compared:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ integer1 -eq integer2 ]]  # Integers are equal\n[[ integer1 -ne integer2 ]]  # Integers are not equal\n[[ integer1 -gt integer2 ]]  # Integer1 is greater than integer2\n[[ integer1 -ge integer2 ]]  # Integer1 is greater than or equal to integer2\n[[ integer1 -lt integer2 ]]  # Integer1 is less than integer2\n[[ integer1 -le integer2 ]]  # Integer1 is less than or equal to integer2\n"})}),"\n",(0,i.jsx)(s.h2,{id:"other-tests",children:"Other Tests"}),"\n",(0,i.jsxs)(s.p,{children:["The four groups of tests above will cover the vast majority of\nsituations. There are additional tests available to test other\nconditions, such as whether a variable is defined, or a file refers to a\ndevice. See the man page for bash(1) for more information if you're\ninterested in other tests: ",(0,i.jsx)(s.em,{children:"man bash"})]}),"\n",(0,i.jsx)(s.h2,{id:"negating-and-combining-tests",children:"Negating and Combining Tests"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"!"})," operator can be used to negate a test:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'[[ ! -f "$FILE" ]]   # True if "$FILE" is not a file (doesn\'t exist, or is a directory)\n'})}),"\n",(0,i.jsxs)(s.p,{children:["The AND operator ",(0,i.jsx)(s.code,{children:"&&"})," combines tests, with the result being True if the\ntests on the left and right are both true:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ $A -lt $B && $B -lt $C ]]  # True if A is less than B, and also B is less than C.\n"})}),"\n",(0,i.jsxs)(s.p,{children:["The OR operator ",(0,i.jsx)(s.code,{children:"||"})," combines tests, with the result being True if\neither of the tests are true:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"[[ $A -lt 0 ]]  # True if either: A is greater than B, or if A is less than 0.\n"})}),"\n",(0,i.jsxs)(s.p,{children:["You can use multiple ",(0,i.jsx)(s.code,{children:"!"}),", ",(0,i.jsx)(s.code,{children:"&&"}),", and ",(0,i.jsx)(s.code,{children:"||"})," operators toegether:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'[[ -f "$FILE" && -r "$FILE" && -w "$FILE" ]] # True if "$FILE" is a readable, writable regular file.\n'})}),"\n",(0,i.jsx)(s.h2,{id:"tips-on-using-tests",children:"Tips on Using Tests"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Remember to quote any arguments which include whitespace, or which may be\nnull (empty)."}),"\n",(0,i.jsxs)(s.li,{children:["Be careful with the ",(0,i.jsx)(s.code,{children:"<"})," and ",(0,i.jsx)(s.code,{children:">"})," comparison operators: if you have\na syntax error, you may accidentally redirect data (which in the case of\n",(0,i.jsx)(s.code,{children:">"})," might overwrite a file!)"]}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(6540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);