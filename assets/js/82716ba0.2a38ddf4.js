"use strict";(self.webpackChunkintroduction_to_programming=self.webpackChunkintroduction_to_programming||[]).push([[8954],{8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(6540);const l={},r=i.createContext(l);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},8497:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"cmd/loop","title":"Looping","description":"In the Windows CMD shell, looping is performed with the FOR statement.","source":"@site/docs/08-cmd/11-loop.md","sourceDirName":"08-cmd","slug":"/cmd/loop","permalink":"/OPS102/cmd/loop","draft":false,"unlisted":false,"editUrl":"https://github.com/Seneca-ICTOER/OPS102/tree/main/docs/08-cmd/11-loop.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{},"sidebar":"courseNotesSidebar","previous":{"title":"Script Parameters","permalink":"/OPS102/cmd/param"},"next":{"title":"What are Regular Expressions?","permalink":"/OPS102/regexp/what-why"}}');var l=s(4848),r=s(8453);const o={},t="Looping",a={},c=[{value:"Delayed Expansion",id:"delayed-expansion",level:2},{value:"Loop throush a List of Files or Parameters",id:"loop-throush-a-list-of-files-or-parameters",level:2},{value:"Example",id:"example",level:3},{value:"Loop through a Range of Integers",id:"loop-through-a-range-of-integers",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"looping",children:"Looping"})}),"\n",(0,l.jsxs)(n.p,{children:["In the Windows CMD shell, looping is performed with the ",(0,l.jsx)(n.em,{children:"FOR"})," statement."]}),"\n",(0,l.jsx)(n.p,{children:"Loops are controlled by an iterator variable, which has special rules:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The\xa0iterator\xa0variable\xa0name\xa0must\xa0be\xa0a\xa0",(0,l.jsx)(n.strong,{children:"single\xa0letter"})]}),"\n",(0,l.jsxs)(n.li,{children:["The\xa0variable\xa0name\xa0is\xa0",(0,l.jsx)(n.strong,{children:"case\xa0sensitive"})]}),"\n",(0,l.jsx)(n.li,{children:"The\xa0variable\xa0name\xa0is\xa0written\xa0with\xa0a\xa0single\xa0preceeding\xa0percent\xa0sign\n[%]\xa0at\xa0all\xa0times\xa0when\xa0used\xa0from\xa0the\xa0command\xa0line,\xa0or\xa0double\xa0preceeding\xa0\npercent\xa0signs\xa0[%%]\xa0inside\xa0a\xa0script"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"delayed-expansion",children:"Delayed Expansion"}),"\n",(0,l.jsxs)(n.p,{children:["When the body of a ",(0,l.jsx)(n.em,{children:"FOR"})," loop is executed, the variables are expanded\n(replaced by their values) before the loop begins. That means that any\nvariables that are contained in the loop have their values locked-in and\nthey can't be changed while the loop is executing.\u200b"]}),"\n",(0,l.jsx)(n.p,{children:"To allow updated variable values to be accessed within a loop:\u200b"}),"\n",(0,l.jsx)(n.p,{children:"1. Set the EnableDelayedExpansion option:\u200b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"SETLOCAL\xa0EnableDelayedExpansion\u200b\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u200b2. Change any variables which will be updated during the execution of\nthe loop by replacing the percent-signs ( ",(0,l.jsx)(n.code,{children:"%"})," ) with exclaimation-marks (\n",(0,l.jsx)(n.code,{children:"!"})," ):\u200b"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"%ERRORLEVEL%\xa0\xa0\xa0\xa0->\xa0\xa0\xa0\xa0!ERRORLEVEL!\u200b\n"})}),"\n",(0,l.jsx)(n.h2,{id:"loop-throush-a-list-of-files-or-parameters",children:"Loop throush a List of Files or Parameters"}),"\n",(0,l.jsx)(n.p,{children:"To loop through a list of values such as filenames, use:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"FOR\xa0%variable\xa0IN\xa0(files)\xa0DO\xa0list\u200b\n"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.em,{children:"variable"})," will be sequentially set to each of the given ",(0,l.jsx)(n.em,{children:"files"}),"\nvalues, and the loop body (",(0,l.jsx)(n.em,{children:"list"}),") will be executed once for each\nvalue."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.em,{children:"files"})," value may be:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A\xa0list\xa0of\xa0filenames:\xa0",(0,l.jsx)(n.code,{children:"FOR %F IN (file1.txt file2.pdf file3.c) DO ECHO %F"})]}),"\n",(0,l.jsxs)(n.li,{children:["A\xa0filename\xa0pattern:\xa0",(0,l.jsx)(n.code,{children:"FOR %F IN (*.pdf) DO ECHO %F"})]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed\xa0strings:\xa0",(0,l.jsx)(n.code,{children:"FOR %C IN (Red Green Blue) DO ECHO %C"})]}),"\n",(0,l.jsxs)(n.li,{children:["Or\xa0a\xa0list\xa0of\xa0all\xa0of\xa0the\xa0parameters:\xa0",(0,l.jsx)(n.code,{children:"FOR %P IN (%*) DO ECHO %P"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"/D"})," option can be used along with a filename pattern to match only\ndirectories:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"FOR\xa0/D\xa0%variable\xa0IN\xa0(files)\xa0DO\xa0list\n"})}),"\n",(0,l.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:'@echo off\u200b SETLOCAL EnableDelayedExpansion\u200b FOR %%F IN (\\*) DO (\u200b\n\nrem\xa0The\xa0CHOICE\xa0command\xa0presents\xa0a\xa0Y/N\xa0choice\xa0and\xa0sets\xa0%ERRORLEVEL%\nrem\xa0to\xa01\xa0if\xa0the\xa0user\xa0selected\xa0Y\xa0and\xa02\xa0if\xa0the\xa0user\xa0selected\xa0N\n\nCHOICE\xa0/M\xa0"DELETE\xa0%%F"\u200b\nIF\xa0!ERRORLEVEL!==1\xa0(\u200b\n\xa0\xa0ECHO\xa0...Deleting\xa0%%F\u200b\n\xa0\xa0DEL\xa0%%F\u200b\n)\xa0ELSE\xa0(\u200b\n\xa0\xa0ECHO\xa0...Skipping\xa0%%F\u200b\n)\u200b\n'})}),"\n",(0,l.jsx)(n.h2,{id:"loop-through-a-range-of-integers",children:"Loop through a Range of Integers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"FOR\xa0/L\xa0(start,\xa0step,\xa0end)\xa0DO\xa0list\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This type of loop counts forward or backwards from ",(0,l.jsx)(n.em,{children:"start"})," to ",(0,l.jsx)(n.em,{children:"end"})," by\na given ",(0,l.jsx)(n.em,{children:"step"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Example:\u200b \u200b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"@echo\xa0off\u200b\nrem\xa0Count\xa0from\xa00\xa0to\xa05\xa0in\xa0increments\xa0of\xa01\u200b\nFOR\xa0/L\xa0%%I\xa0IN\xa0(0,\xa0\xa01,\xa05)\xa0DO\xa0ECHO\xa0...\xa0%%I\xa0...\u200b\n\xa0\nrem\xa0Count\xa0from\xa04\xa0to\xa00\xa0in\xa0increments\xa0of\xa0-1\u200b\nFOR\xa0/L\xa0%%I\xa0IN\xa0(4,\xa0-1,\xa00)\xa0DO\xa0ECHO\xa0...\xa0%%I\xa0...\n"})}),"\n",(0,l.jsx)(n.p,{children:"Output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-plain",children:"0\n1\n2\n3\n4\n5\xa0\xa0\xa0<-\xa0This\xa0is\xa0the\xa0end\xa0of\xa0output\xa0from\xa0the\xa0first\xa0loop,\xa0having\xa0gone\xa0from\xa00\xa0to\xa05\n4\xa0\xa0\xa0<-\xa0The\xa0second\xa0loop\xa0starts\xa0output\xa0here,\xa0going\xa0from\xa04\xa0to\xa00\n3\n2\n1\n0\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);